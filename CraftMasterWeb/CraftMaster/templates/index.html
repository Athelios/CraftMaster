{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="/static/jquery.cookie.js"></script>
    <title>CraftMaster</title>
  </head>
  <body>


    <div>
      <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: rgba(126, 237, 154, 0.5); margin-left: auto;margin-right:auto">
        <a class="navbar-brand" href="index"><img src ="{% static 'icon.png' %}" width = 60px height = 60px></img></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" style="width: 160px;" href="index"><p class="h4">CraftMaster</p><span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="width: 120px;"  href="downloads">Download</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="width: 100px;"  href="https://github.com/RexWangSida/CraftMaster/tree/master">Source</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="width: 150px;"  href="https://github.com/RexWangSida/CraftMaster/wiki">Documentation</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id ="navbarDropdownMenuLink" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                About
              </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink"style="background-color: rgba(126, 237, 154,0.5);">
                  <a class="dropdown-item" href="team">Development Team</a>
                  <a class="dropdown-item" href="https://github.com/fogleman/Minecraft">Original Project</a>
                </div>

            </li>
          </ul>
        </div>
      </nav>
    </div>


    <!--First row including the front page -->
    <div class = "row" >
      <div class="col">
        <img src = "{% static "bg.png" %}" class="img-fluid" alt="Responsive image"></img>
      </div>
    </div>

    <!-- Banner 1 -->
    <div class = "row" >
      <div class="container" style="margin-top:100px;"  >
        <center><h1 class="display-4 font-weight-light">Explore <strong>CraftMaster</strong></h1></center>
      </div>
    </div>
    <div class = "row">
      <div class="container" style="margin-bottom:100px;">
        <center><p class="text-secondary">Enjoy the ultimate and endless fun of the game and increase creativity!</p></center>
      </div>
    </div>


    <!--Second row including the game icon and description -->
    <div class = "row" >
      <div class="col-sm-6" style="margin-top:20px;">
            <img align="right" src="{% static 'icon.png' %}" width=380px height=344.8px></img>
      </div>
      <div class="col-sm-4" style="margin-top:20px;">
          <div class="jumbotron rounded" style="background-color: rgba(126, 237, 154, 0.5);">
            <p>CraftMaster is a Minecraft-like 3D sandbox game, which is built based on the <a href="https://github.com/fogleman/Minecraft">fogleman's Python implementation</a> of Minecraft. All the media files including textures, music, sounds were open-source and found online. CraftMaster is built with Python and Pyglet(Python library for GUI), and the executable game is generated by Pyintsaller. This software game cannot be used for financial purpose and it is free to play.</p>
          </div>
      </div>

    </div>

    <!-- Banner 2-->
    <div class = "row" style="margin-top:100px;margin-bottom:100px;">
      <div class="container"  >
        <center><h1 class="display-4"><strong>CraftMaster</strong> Views</h1></center>
      </div>
    </div>

    <!--Third row including the game views -->
    <div class = "row" style="background-color: rgba(126, 237, 154, 0.5);">
        <div class="col" style="margin-top:40px;margin-bottom:40px;">
              <center><img  src="{% static "view1.png" %}" width=380px height=344.8px></img></center>
        </div>
        <div class="col" style="margin-top:40px;margin-bottom:40px;">
              <center><img  src="{% static "view2.png" %}" width=380px height=344.8px></img></center>
        </div>
        <div class="col" style="margin-top:40px;margin-bottom:40px;">
              <center><img  src="{% static "view3.png" %}" width=380px height=344.8px></img></center>
        </div>
    </div>

    <!-- Banner 3-->
    <div class = "row" style="margin-top:100px;" >
      <hr class="half-rule" style=" margin-left: 0; text-align: left; width: 100%;"></hr>
      <div class="container">
        <center><h1 class="display-4">Interested in future version release?</h1></center>
      </div>
    </div>
    <div class = "row" style="margin-bottom:100px;">
      <div class="container">



        <form method="POST" id="email-form">
          <div class="form-group" method="POST" align="center" id="email">
            <label for="email_in" class="font-weight-light">Leave your email here to get notified at the first time:</label>
            <input type="email" class="form-control" id="email_in" aria-describedby="emailHelp" placeholder="Enter email" style="margin:10px">
            <button type="button" class="btn btn-outline-success" onclick="email_click()">Submit</button>
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
        </form>



        <center><p class="text-secondary"style="display:none; margin-top:100px;margin-bottom:100px;" id="email_success">You're in!</p></center>
        <center><p class="text-danger" style="display:none;" id="email_fail">The email you entered is not valid, please try again</p></center>
        <hr class="half-rule" style=" margin-left: 0; text-align: left; width: 100%;"></hr>

        </div>
        </div>
      </div>





    <!-- JS -->
    <script>
    function email_click(){
      var email = document.getElementById("email_in").value;
      if (validateEmail(email)){
        emailEnter(email);
        $("#email").fadeOut();
        $("#email_fail").fadeOut();
        $("#email_success").fadeIn();
      }

      else
        $("#email_fail").fadeIn();
    }

    function validateEmail(email){
      var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }

    function emailEnter(email){
      $.ajax({
        type:'POST',
        url:'{% url "email" %}',
        data:{
          email:email,
        },
        headers: {'X-CSRFtoken': $.cookie('csrftoken')},
        success:function(data) {
        },
        error:function() {
        },
      });
    }



    </script>
  </body>
</html>
